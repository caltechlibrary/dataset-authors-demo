{"title":"Trident: a universal tool for generating synthetic absorption spectra from astrophysical simulations","uri":"","abstract":"Hydrodynamical simulations are increasingly able to accurately model physical systems on stellar, galactic, and cosmological scales; however, the utility of these simulations is often limited by our ability to directly compare them with the datasets produced by observers: spectra, photometry, etc. To address this problem, we have created Trident}, a Python-based, open-source tool for post-processing hydrodynamical simulations to produce synthetic absorption spectra and related data. Trident} can (i) create absorption-line spectra for any trajectory through a simulated dataset mimicking both background quasar and down-the-barrel configurations; (ii) reproduce the spectral characteristics of common instruments like the Cosmic Origins Spectrograph; (iii) operate across the ultraviolet, optical and infrared using customizable absorption line lists; (iv) trace simulated physical structures directly to spectral features; (v) approximate the presence of ion species absent from the simulation outputs; (vi) generate column density maps for any ion; and (vii) provide support for all major astrophysical hydrodynamical codes. The focus of Trident's development is for using simulated datasets to better interpret observations of the circumgalactic medium (CGM) and intergalactic medium (IGM), but it remains a general tool applicable in other contexts.","documents":[{"id":"http://authors.library.caltech.edu/id/document/252907","docid":252907,"rev_number":2,"files":[{"id":"http://authors.library.caltech.edu/id/file/1264632","fileid":1264632,"datasetid":"document","objectid":252907,"filename":"1612.03935.pdf","mime_type":"application/pdf","hash":"205e0efc5f0cbd98815b59b78b701ef9","hash_type":"MD5","filesize":6698085,"mtime":"2017-05-30 21:05:47","url":"http://authors.library.caltech.edu/77835/1/1612.03935.pdf"}],"eprintid":77835,"pos":1,"placement":1,"mime_type":"application/pdf","format":"application/pdf","language":"en","security":"public","license":"other","main":"1612.03935.pdf","content":"submitted"}],"note":"We are extremely grateful to our co-developers within the yt community for their assistance in coding, reviewing, testing, and timing releases of yt to match the trident development schedule. In particular, we wish to thank Matthew Turk, Nathan Goldbaum, Kacper Kowalik, and John ZuHone for going above and beyond the requirements of a open-source software community. trident benefited greatly from our discussions with the aforementioned and also Molly Peeples, Brian O'Shea, X Prochaska, Nicolas Tejos, Jess Werk, Jason Tumlinson, Kate Rubin, Nicholas Lehner, Josh Peek, Chuck Steidel, Gwen Rudie, Ben Oppenheimer, Amanda Ford, Romeel Dave, Robert Thompson, David Weinberg, Neal Katz, Joel Primack, Ian McGreer, Greg Bryan, Phil Hopkins, Paul Torrey, Josh Suresh, Simeon Bird, Bili Dong, Dušan Kereš, Claude-André Faucher-Giguère, Erika Hamden, and Clayton Strawn. We are especially grateful to Charles Danforth for the quasar and Milky Way templates he provided. We thank Jacob Kneibel for his work on the early stages of generating realistic synthetic spectra, particularly in using COS LSFs. Also thanks goes to Ji-hoon Kim and members of the AGORA consortium for providing datasets to test trident across many simulation formats. Support for this work was provided by NASA through Hubble Space Telescope Theory Grants HST-AR-13917, HST-AR-13919, HST-AR-13261.01-A and HST-AR-14315.001-A and ATP grants NNX09AD80G and NNX12AC98G from the Space Telescope Science Institute, operated by the Association of Universities for Research in Astronomy, Inc., under NASA contract NAS 5-26555. Additional support comes from the NSF through AST grant 0908819 and the NSF Astronomy and Astrophysics Postdoctoral Fellowship program. Computational resources for this work were provided through NSF XSEDE grant TG-AST140018, NSF BlueWaters grants PRAC-gka and GLCPC jth. This research also used resources of the National Energy Research Scientific Computing Center (NERSC), a DOE Office of Science User Facility supported by the Office of Science of the U.S. Department of Energy under Contract No. DE-AC02-05CH11231. We acknowledge access to NERSC resources made possible by University of California High-Performance AstroComputing Center (UC-HiPACC). trident was made possible by the open-source projects: hdf12, h5py13, scipy14, numpy15 (van derWalt et al. 2011), matplotlib16 (Hunter 2007), mpi (Forum 1994), mpi4py17 (Dalcin et al. 2005), yt18 (Turk et al. 2011), and astropy19 (Astropy Collaboration et al. 2013).","id":77835,"rev_number":11,"userid":18,"eprint_dir":"disk0/00/07/78/35","datestamp":"2017-05-30 22:27:35","lastmod":"2017-05-30 22:27:35","status_changed":"2017-05-30 22:27:35","type":"monograph","metadata_visibility":"show","creators":[{"given":"Cameron B.","family":"Hummels","id":"Hummels-C-B","orcid":"0000-0002-3817-8133"},{"given":"Britton D.","family":"Smith","id":"Smith-B-D","orcid":""},{"given":"Devin W.","family":"Silvia","id":"Silvia-D-W","orcid":""}],"ispublished":"submitted","subjects":null,"full_text_status":"public","keywords":"","date":"2016-12-12","date_type":"submitted","publication":"","volume":"","number":"","pagerange":"","id_number":"CaltechAUTHORS:20170530-140538010","refereed":true,"issn":"","official_url":"http://resolver.caltech.edu/CaltechAUTHORS:20170530-140538010","related_url":[{"url":"https://arxiv.org/abs/1612.03935","type":"arxiv","description":"Discussion Paper"}],"referencetext":["Armstrong, B. H. 1967, Journal of Quantitative Spectroscopy and\nRadiative Transfer, 7, 85\nAstropy Collaboration, Robitaille, T. P., Tollerud, E. J., et al.\n2013, A\u0026A, 558, A33\nBehroozi, P. S., Wechsler, R. H., \u0026 Wu, H.-Y. 2012, The\nAstrophysical Journal, 762, 109\nBird, S., Haehnelt, M., Neeleman, M., et al. 2015, MNRAS, 447,\n1834\nBordoloi, R., Tumlinson, J., Werk, J. K., et al. 2014, ApJ, 796,\n136\nBruzual, G., \u0026 Charlot, S. 2003, MNRAS, 344, 1000\nBryan, G. L., Norman, M. L., O'Shea, B. W., et al. 2014, ApJS,\n211, 19\nCen, R., Bahcall, N. A., \u0026 Gramann, M. 1994, ApJ, 437, L51\nCen, R., \u0026 Fang, T. 2006, ApJ, 650, 573\nChurchill, C. W., Vander Vliet, J. R., Trujillo-Gomez, S.,\nKacprzak, G. G., \u0026 Klypin, A. 2015, ApJ, 802, 10\nConroy, C., Gunn, J. E., \u0026 White, M. 2009, ApJ, 699, 486\nDalcin, L., Paz, R., \u0026 Storti, M. 2005, Journal of Parallel and\nDistributed Computing, 65, 1108\nDanforth, C. W., Keeney, B. A., Tilton, E. M., et al. 2016, ApJ,\n817, 111\nDav�e, R., Hernquist, L., Weinberg, D. H., \u0026 Katz, N. 1997, ApJ,\n477, 21\nDav�e, R., Cen, R., Ostriker, J. P., et al. 2001, ApJ, 552, 473\nDullemond, C. P. 2012, RADMC-3D: A multi-purpose radiative\ntransfer tool, Astrophysics Source Code Library, ascl:1202.015\nEgan, H., Smith, B. D., O'Shea, B. W., \u0026 Shull, J. M. 2014, The\nAstrophysical Journal, 791, 64\nFaucher-Gigu�ere, C.-A., \u0026 Kere�s, D. 2011, MNRAS, 412, L118\nFaucher-Gigu�ere, C.-A., Lidz, A., Zaldarriaga, M., \u0026 Hernquist,\nL. 2009, ApJ, 703, 1416\nFerland, G. J., Korista, K. T., Verner, D. A., et al. 1998, PASP,\n110, 761\nFerland, G. J., Porter, R. L., van Hoof, P. A. M., et al. 2013,\nRevista Mexicana de Astronomia y Astro�sica, 49, 137\nFielding, D., Quataert, E., McCourt, M., \u0026 Thompson, T. A.\n2016, ArXiv e-prints, arXiv:1606.06734\nFortney, J. J., Marley, M. S., Saumon, D., \u0026 Lodders, K. 2008,\nApJ, 683, 1104\nForum, M. P. 1994, MPI: A Message-Passing Interface Standard,\nTech. rep., Knoxville, TN, USA\nFryxell, B., Olson, K., Ricker, P., et al. 2000, ApJS, 131, 273\nGuedes, J., Callegari, S., Madau, P., \u0026 Mayer, L. 2011, ApJ, 742,\n76\nHaardt, F., \u0026 Madau, P. 2012, ApJ, 746, 125\nHernquist, L., Katz, N., Weinberg, D. H., \u0026 Miralda-Escud�e, J.\n1996, ApJ, 457, L51\nHill, C. 2016, Learning Scienti�c Programming with Python\n(Cambridge University Press)\nHogg, D. W. 1999, ArXiv Astrophysics e-prints, astro-ph/9905116\nHopkins, P. F. 2015, MNRAS, 450, 53\nHopkins, P. F., Kere�s, D., O~norbe, J., et al. 2014a, MNRAS, 445,\n581\n|. 2014b, MNRAS, 445, 581\nHummels, C. B., \u0026 Bryan, G. L. 2012, ApJ, 749, 140\nHummels, C. B., Bryan, G. L., Smith, B. D., \u0026 Turk, M. J. 2013,\nMNRAS, 430, 1548\nHunter, J. D. 2007, Computing In Science \u0026 Engineering, 9, 90\nHusser, T.-O., Wende-von Berg, S., Dreizler, S., et al. 2013, A\u0026A,\n553, A6\nJonsson, P. 2006, MNRAS, 372, 2\nKacprzak, G. G., Churchill, C. W., Murphy, M. T., \u0026 Cooke, J.\n2015, MNRAS, 446, 2861\nKim, J.-h., Abel, T., Agertz, O., et al. 2014, The Astrophysical\nJournal Supplement, 210, 14\nKim, J.-h., Agertz, O., Teyssier, R., et al. 2016, ArXiv e-prints,\narXiv:1610.03066\nKravtsov, A. V. 1999, PhD thesis, New Mexico State University\nKravtsov, A. V., Klypin, A. A., \u0026 Khokhlov, A. M. 1997, ApJS,\n111, 73\nKurucz, R. L. 1979, ApJS, 40, 1\nLehner, N. 2016, ArXiv e-prints, arXiv:1612.00458\nLeitherer, C., Schaerer, D., Goldader, J. D., et al. 1999, ApJS,\n123, 3\nLiang, C. J., Kravtsov, A. V., \u0026 Agertz, O. 2016, MNRAS, 458,\n1164\nMcQuinn, M. 2016, ARA\u0026A, 54, 313\nMiralda-Escud�e, J., Cen, R., Ostriker, J. P., \u0026 Rauch, M. 1996,\nApJ, 471, 582\nNenkova, M., Ivezi�c, �Z., \u0026 Elitzur, M. 2000, Thermal Emission\nSpectroscopy and Analysis of Dust, Disks, and Regoliths, 196,\n77\nOppenheimer, B. D., \u0026 Dav�e, R. 2006, MNRAS, 373, 1265\nOppenheimer, B. D., Crain, R. A., Schaye, J., et al. 2016,\nMNRAS, 460, 2157\nPeebles, P. J. E. 1993, Principles of Physical Cosmology\nPeeples, M. 2014, HST Proposal ID #13919. Cycle 22, 13919\nPeeples, M. S., Werk, J. K., Tumlinson, J., et al. 2013, arXiv.org,\n54\nPoppe, G. P. M., \u0026 Wijers, C. M. J. 1990, ACM Trans. Math.\nSoftw., 16, 38\nRahmati, A., Schaye, J., Pawlik, A. H., \u0026 Raicevic, M. 2013,\nMNRAS, 431, 2261\nRobitaille, T. P. 2011, A\u0026A, 536, A79\nRubin, K. H. R. 2016, ArXiv e-prints, arXiv:1612.00805\nRudd, D. H., Zentner, A. R., \u0026 Kravtsov, A. V. 2008, ApJ, 672,\n19\nRudie, G. C., Steidel, C. C., Trainor, R. F., et al. 2012, ApJ, 750,\n67\nRybicki, G. B., \u0026 Lightman, A. P. 1979, Radiative processes in\nastrophysics\nSchaye, J., Crain, R. A., Bower, R. G., et al. 2015, MNRAS, 446,\n521\nShen, S., Madau, P., Guedes, J., et al. 2013, ApJ, 765, 89\nSmith, B., Sigurdsson, S., \u0026 Abel, T. 2008, MNRAS, 385, 1443\nSmith, B. D., Hallman, E. J., Shull, J. M., \u0026 O'Shea, B. W. 2011,\nApJ, 731, 6\nSmith, B. D., Bryan, G. L., Glover, S. C. O., et al. 2016,\narXiv.org, arXiv:1610.09591\nSpringel, V. 2005, MNRAS, 364, 1105\n|. 2010, MNRAS, 401, 791\nSpringel, V., Yoshida, N., \u0026 White, S. D. M. 2001, New\nAstronomy, 6, 79\nStinson, G., Seth, A., Katz, N., et al. 2006, MNRAS, 373, 1074\nStone, J. M., Gardiner, T. A., Teuben, P., Hawley, J. F., \u0026\nSimon, J. B. 2008, ApJS, 178, 137\nTelfer, R. C., Zheng, W., Kriss, G. A., \u0026 Davidsen, A. F. 2002,\nApJ, 565, 773\nTeyssier, R. 2002, A\u0026A, 385, 337\nThe HDF Group. 1997{, Hierarchical Data Format, version 5,\n/HDF5/\nTheuns, T., Leonard, A., Efstathiou, G., Pearce, F. R., \u0026\nThomas, P. A. 1998, MNRAS, 301, 478\nTumlinson, J., Thom, C., Werk, J. K., et al. 2013, ApJ, 777, 59\nTurk, M. J., Smith, B. D., Oishi, J. S., et al. 2011, ApJS, 192, 9\nvan der Walt, S., Colbert, S. C., \u0026 Varoquaux, G. 2011,\nComputing in Science Engineering, 13, 22\nVogelsberger, M., Genel, S., Springel, V., et al. 2014, MNRAS,\n444, 1518\nWadsley, J. W., Stadel, J., \u0026 Quinn, T. 2004, New Astronomy, 9,\n137\nZhang, Y., Anninos, P., \u0026 Norman, M. L. 1995, ApJ, 453, L57"],"rights":"No commercial reproduction, distribution, display or performance rights in this work are provided.","official_citation":"","other_numbering_system":null,"funders":[{"agency":"NASA Hubble Fellowship","grant_number":"HST-AR-13917"},{"agency":"NASA Hubble Fellowship","grant_number":"HST-AR-13919"},{"agency":"NASA Hubble Fellowship","grant_number":"HST-AR-13261.01-A"},{"agency":"NASA Hubble Fellowship","grant_number":"HST-AR-14315.001-A"},{"agency":"NASA","grant_number":"NNX09AD80G"},{"agency":"NASA","grant_number":"NNX12AC98G"},{"agency":"NASA","grant_number":"NAS 5-26555"},{"agency":"NSF","grant_number":"AST-0908819"},{"agency":"NSF Astronomy and Astrophysics Postdoctoral Fellowship","grant_number":""},{"agency":"NSF","grant_number":"TG-AST140018"},{"agency":"Department of Energy (DOE)","grant_number":"DE-AC02-05CH11231"}],"collection":"CaltechAUTHORS","reviewer":"GP","local_group":["TAPIR"]}